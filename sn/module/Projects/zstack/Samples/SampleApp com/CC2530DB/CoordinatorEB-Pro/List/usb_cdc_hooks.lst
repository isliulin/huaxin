###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.4.40412/W32 for 8051         19/Jun/2016  18:16:15 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Users\freeman\Documents\work\SN\module\Componen #
#                          ts\usb\class_cdc\usb_cdc_hooks.c                   #
#    Command line       =  -f "C:\Users\freeman\Documents\work\SN\module\Proj #
#                          ects\zstack\Samples\SampleApp                      #
#                          com\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg #
#                          " (-DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR    #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF0                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE     #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440)   #
#                          C:\Users\freeman\Documents\work\SN\module\Componen #
#                          ts\usb\class_cdc\usb_cdc_hooks.c -D ZIGBEEPRO -D   #
#                          ZTOOL_P1 -lC "C:\Users\freeman\Documents\work\SN\m #
#                          odule\Projects\zstack\Samples\SampleApp            #
#                          com\CC2530DB\CoordinatorEB-Pro\List\" -lA          #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\CoordinatorEB-Pro\List\"              #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\CoordinatorEB-Pro\Obj\" -e --debug    #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "C:\Users\freeman\Document #
#                          s\work\SN\module\Projects\zstack\Samples\SampleApp #
#                           com\CC2530DB\" -I "C:\Users\freeman\Documents\wor #
#                          k\SN\module\Projects\zstack\Samples\SampleApp      #
#                          com\CC2530DB\..\SOURCE\" -I                        #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\ZMAIN\TI2530DB\" -I          #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MT\" -I     #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\INCLUDE #
#                          \" -I "C:\Users\freeman\Documents\work\SN\module\P #
#                          rojects\zstack\Samples\SampleApp                   #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\TARGET\ #
#                          CC2530EB\" -I "C:\Users\freeman\Documents\work\SN\ #
#                          module\Projects\zstack\Samples\SampleApp           #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU\CC #
#                          SOC\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\INCLUD #
#                          E\" -I "C:\Users\freeman\Documents\work\SN\module\ #
#                          Projects\zstack\Samples\SampleApp                  #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\AF\"  #
#                          -I "C:\Users\freeman\Documents\work\SN\module\Proj #
#                          ects\zstack\Samples\SampleApp                      #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\NWK\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SEC\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SAPI\ #
#                          " -I "C:\Users\freeman\Documents\work\SN\module\Pr #
#                          ojects\zstack\Samples\SampleApp                    #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SYS\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\ZDO\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\F8W\"  #
#                          -I "C:\Users\freeman\Documents\work\SN\module\Proj #
#                          ects\zstack\Samples\SampleApp                      #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\" -I   #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES\SA #
#                          DDR\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES\SD #
#                          ATA\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\INCLUDE #
#                          \" -I "C:\Users\freeman\Documents\work\SN\module\P #
#                          rojects\zstack\Samples\SampleApp                   #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\HIGH_LE #
#                          VEL\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEV #
#                          EL\srf04\" -I "C:\Users\freeman\Documents\work\SN\ #
#                          module\Projects\zstack\Samples\SampleApp           #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEV #
#                          EL\srf04\SINGLE_CHIP\" -I                          #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\usb\library #
#                          \" -I "C:\Users\freeman\Documents\work\SN\module\P #
#                          rojects\zstack\Samples\SampleApp                   #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\usb\class_h #
#                          id\" -I "C:\Users\freeman\Documents\work\SN\module #
#                          \Projects\zstack\Samples\SampleApp                 #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\hal\common\ #
#                          " -Ohz --require_prototypes                        #
#    List file          =  C:\Users\freeman\Documents\work\SN\module\Projects #
#                          \zstack\Samples\SampleApp                          #
#                          com\CC2530DB\CoordinatorEB-Pro\List\usb_cdc_hooks. #
#                          lst                                                #
#    Object file        =  C:\Users\freeman\Documents\work\SN\module\Projects #
#                          \zstack\Samples\SampleApp                          #
#                          com\CC2530DB\CoordinatorEB-Pro\Obj\usb_cdc_hooks.r #
#                          51                                                 #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\freeman\Documents\work\SN\module\Components\usb\class_cdc\usb_cdc_hooks.c
      1          /***********************************************************************************
      2          
      3              Filename: usb_cdc_hooks.c
      4          
      5              Contains the necessary hook functions for various USB request processing
      6              that is featured from the USB firmware library. Some
      7              functions are empty.
      8          
      9          ***********************************************************************************/
     10          
     11          
     12          /**********************************************************************************
     13           * INCLUDES
     14           */
     15          
     16          #include "usb_firmware_library_headers.h"
     17          #include "usb_cdc.h"
     18          #include "usb_uart.h"
     19          #include "hal_led.h"
     20          
     21          /* Global data */
     22          
     23          extern CDC_LINE_CODING_STRUCTURE currentLineCoding;
     24          extern uint16 cdcRTS;
     25          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     26          unsigned long Max_Lun=0;
   \                     Max_Lun:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
     27          //extern char g_modBoot;
     28          extern void BootRfDown(void);
     29          
     30          // *********************************************************************************
     31          // All Hooks and functions required by the USB library.
     32          // *********************************************************************************
     33          
     34          // **************** Process USB class requests with OUT data phase *****************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     35          void usbcrHookProcessOut(void)
   \                     usbcrHookProcessOut:
     36          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     37             // Process USB class requests with OUT data phase, or stall endpoint 0 when unsupported
     38          #if 0
     39             if (usbSetupHeader.request == CDC_SET_CONTROL_LINE_STATE) {
     40                 // Control line state from host
     41                if(usbfwData.ep0Status == EP_IDLE)
     42                {
     43                   cdcRTS= usbSetupHeader.value;
     44                   if (cdcRTS)
     45                       halLedSet(2);          // Green LED
     46                   else
     47                       halLedClear(2);
     48          
     49                   usbfwData.ep0Status = EP_RX;
     50                }
     51          
     52          
     53             } else if(usbSetupHeader.request == CDC_SET_LINE_CODING) {
     54          
     55                if(usbfwData.ep0Status == EP_IDLE)
     56                {
     57                   usbSetupData.pBuffer = (uint8 __xdata *) &currentLineCoding;
     58                   usbfwData.ep0Status = EP_RX;
     59                }
     60                else if(usbfwData.ep0Status == EP_RX) { }
     61          	  
     62             }else if(usbSetupHeader.request == MASS_STORAGE_RESET)
     63             {
     64          	 if(usbfwData.ep0Status == EP_IDLE)
     65                {
     66                   usbSetupData.pBuffer = (uint8 __xdata *) &Max_Lun;
     67                   usbfwData.ep0Status = EP_RX;
     68                }
     69                else if(usbfwData.ep0Status == EP_RX) { }
     70          
     71             }
     72             // Unknown request?
     73             else {
     74                usbfwData.ep0Status = EP_STALL;
     75             }
     76           #endif
     77          }
   \   000000   02....       LJMP    ?BRET
     78          
     79          // **************** Process USB class requests with IN data phase ******************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     80          void usbcrHookProcessIn(void)
   \                     usbcrHookProcessIn:
     81          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
     82             // Process USB class requests with IN data phase, or stall endpoint 0 when unsupported
     83          /*
     84             if (usbSetupHeader.request == CDC_GET_LINE_CODING) {
     85                // First the endpoint status is EP_IDLE...
     86                if (usbfwData.ep0Status == EP_IDLE) {
     87                   usbSetupData.pBuffer = (uint8 __xdata *) &currentLineCoding;
     88                   usbSetupData.bytesLeft = 7;
     89                   usbfwData.ep0Status = EP_TX;
     90                   // Then the endpoint status is EP_TX (remember: we did that here when setting up the buffer)
     91                } else if (usbfwData.ep0Status == EP_TX) {
     92                   // usbfwData.ep0Status is automatically reset to EP_IDLE when returning to usbfwSetupHandler()
     93                }
     94             } else {
     95                usbfwData.ep0Status = EP_STALL;
     96             }*/
     97          
     98          	if (usbSetupHeader.request == GET_MAX_LUN) {
   \   000004   90....       MOV     DPTR,#usbSetupHeader + 1
   \   000007   E0           MOVX    A,@DPTR
   \   000008   64FE         XRL     A,#0xfe
   \   00000A   90....       MOV     DPTR,#usbfwData + 7
   \   00000D   701C         JNZ     ??usbcrHookProcessIn_0
     99          	// First the endpoint status is EP_IDLE...
    100          	if (usbfwData.ep0Status == EP_IDLE) {
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   701C         JNZ     ??usbcrHookProcessIn_1
    101          	 usbSetupData.pBuffer = (uint8 __xdata *) &Max_Lun;
   \   000012   90....       MOV     DPTR,#usbSetupData
   \   000015   74..         MOV     A,#Max_Lun & 0xff
   \   000017   F0           MOVX    @DPTR,A
   \   000018   A3           INC     DPTR
   \   000019   74..         MOV     A,#(Max_Lun >> 8) & 0xff
   \   00001B   F0           MOVX    @DPTR,A
   \   00001C   A3           INC     DPTR
   \   00001D   E4           CLR     A
   \   00001E   F0           MOVX    @DPTR,A
    102          	 usbSetupData.bytesLeft = 1;
   \   00001F   A3           INC     DPTR
   \   000020   04           INC     A
   \   000021   F0           MOVX    @DPTR,A
   \   000022   A3           INC     DPTR
   \   000023   E4           CLR     A
   \   000024   F0           MOVX    @DPTR,A
    103          	 usbfwData.ep0Status = EP_TX;
   \   000025   90....       MOV     DPTR,#usbfwData + 7
   \   000028   04           INC     A
   \   000029   8002         SJMP    ??usbcrHookProcessIn_2
    104          	 // Then the endpoint status is EP_TX (remember: we did that here when setting up the buffer)
    105          	} else if (usbfwData.ep0Status == EP_TX) {
    106          	 // usbfwData.ep0Status is automatically reset to EP_IDLE when returning to usbfwSetupHandler()
    107          	}
    108          	} else {
    109          	usbfwData.ep0Status = EP_STALL;
   \                     ??usbcrHookProcessIn_0:
   \   00002B   7404         MOV     A,#0x4
   \                     ??usbcrHookProcessIn_2:
   \   00002D   F0           MOVX    @DPTR,A
    110          	}
    111             
    112          }
   \                     ??usbcrHookProcessIn_1:
   \   00002E   80..         SJMP    ??Subroutine1_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine1_0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    113          
    114          // ********************************  Unsupported USB hooks *************************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    115          void usbvrHookProcessOut(void) {usbfwData.ep0Status = EP_STALL; }
   \                     usbvrHookProcessOut:
   \   000000   80..         SJMP    ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004   90....       MOV     DPTR,#usbfwData + 7
   \   000007   7404         MOV     A,#0x4
   \   000009   F0           MOVX    @DPTR,A
   \   00000A                REQUIRE ??Subroutine1_0
   \   00000A                ; // Fall through to label ??Subroutine1_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    116          void usbvrHookProcessIn(void) {usbfwData.ep0Status = EP_STALL; }
   \                     usbvrHookProcessIn:
   \   000000   80..         SJMP    ?Subroutine0
    117          
    118          // ************************  unsupported/unhandled standard requests ***************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    119          void usbsrHookSetDescriptor(void) { usbfwData.ep0Status = EP_STALL; }
   \                     usbsrHookSetDescriptor:
   \   000000   80..         SJMP    ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    120          void usbsrHookSynchFrame(void) { usbfwData.ep0Status = EP_STALL; }
   \                     usbsrHookSynchFrame:
   \   000000   80..         SJMP    ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    121          void usbsrHookClearFeature(void) { usbfwData.ep0Status = EP_STALL; }
   \                     usbsrHookClearFeature:
   \   000000                REQUIRE ?Subroutine0
   \   000000                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    122          void usbsrHookSetFeature(void) { usbfwData.ep0Status = EP_STALL; }
   \                     usbsrHookSetFeature:
   \   000000   80..         SJMP    ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    123          void usbsrHookModifyGetStatus(uint8 recipient, uint8 index, uint16 __xdata *pStatus) { }
   \                     usbsrHookModifyGetStatus:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP    ?BRET
    124          
    125          
    126          // ************************ USB standard request event processing ******************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    127          void usbsrHookProcessEvent(uint8 event, uint8 index)
   \                     usbsrHookProcessEvent:
    128          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    129             // Process relevant events, one at a time.
    130             switch (event) {
    131             case USBSR_EVENT_CONFIGURATION_CHANGING : //(the device configuration is about to change)
    132                break;
    133             case USBSR_EVENT_CONFIGURATION_CHANGED :// (the device configuration has changed)
    134                break;
    135             case USBSR_EVENT_INTERFACE_CHANGING ://(the alternate setting of the given interface is about to change)
    136                break;
    137             case USBSR_EVENT_INTERFACE_CHANGED : //(the alternate setting of the given interface has changed)
    138                break;
    139             case USBSR_EVENT_REMOTE_WAKEUP_ENABLED ://(remote wakeup has been enabled by the host)
    140                break;
    141             case USBSR_EVENT_REMOTE_WAKEUP_DISABLED ://(remote wakeup has been disabled by the host)
    142                break;
    143             case USBSR_EVENT_EPIN_STALL_CLEARED ://(the given IN endpoint's stall condition has been cleared the host)
    144                break;
    145             case USBSR_EVENT_EPIN_STALL_SET ://(the given IN endpoint has been stalled by the host)
    146                break;
    147             case USBSR_EVENT_EPOUT_STALL_CLEARED ://(the given OUT endpoint's stall condition has been cleared the host)
    148                break;
    149             case USBSR_EVENT_EPOUT_STALL_SET ://(the given OUT endpoint has been stalled by the PC)
    150                break;
    151             }
    152          }
   \   000000   02....       LJMP    ?BRET
    153          
    154          // ************************ USB interrupt event processing *************************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    155          void usbirqHookProcessEvents(void)
   \                     usbirqHookProcessEvents:
    156          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    157              // Handle events that require immediate processing here
    158              //if(!g_modBoot)
    159              //{
    160          	//g_modBoot = 1;
    161              //}
    162              BootRfDown();
   \   000004                ; Setup parameters for call to function BootRfDown
   \   000004   12....       LCALL   ??BootRfDown?relay
    163          }
   \   000007   80..         SJMP    ??Subroutine1_0

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbcrHookProcessOut?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbcrHookProcessOut

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbcrHookProcessIn?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbcrHookProcessIn

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbvrHookProcessOut?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbvrHookProcessOut

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbvrHookProcessIn?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbvrHookProcessIn

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbsrHookSetDescriptor?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbsrHookSetDescriptor

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbsrHookSynchFrame?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbsrHookSynchFrame

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbsrHookClearFeature?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbsrHookClearFeature

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbsrHookSetFeature?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbsrHookSetFeature

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbsrHookModifyGetStatus?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbsrHookModifyGetStatus

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbsrHookProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbsrHookProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??usbirqHookProcessEvents?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    usbirqHookProcessEvents
    164          
    165          /*
    166          +------------------------------------------------------------------------------
    167          |  Copyright 2004-2007 Texas Instruments Incorporated. All rights reserved.
    168          |
    169          |  IMPORTANT: Your use of this Software is limited to those specific rights
    170          |  granted under the terms of a software license agreement between the user who
    171          |  downloaded the software, his/her employer (which must be your employer) and
    172          |  Texas Instruments Incorporated (the "License"). You may not use this Software
    173          |  unless you agree to abide by the terms of the License. The License limits
    174          |  your use, and you acknowledge, that the Software may not be modified, copied
    175          |  or distributed unless embedded on a Texas Instruments microcontroller or used
    176          |  solely and exclusively in conjunction with a Texas Instruments radio
    177          |  frequency transceiver, which is integrated into your product. Other than for
    178          |  the foregoing purpose, you may not use, reproduce, copy, prepare derivative
    179          |  works of, modify, distribute, perform, display or sell this Software and/or
    180          |  its documentation for any purpose.
    181          |
    182          |  YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
    183          |  PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
    184          |  INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
    185          |  NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
    186          |  TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
    187          |  NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
    188          |  LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES INCLUDING
    189          |  BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR
    190          |  CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF
    191          |  SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
    192          |  (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
    193          |
    194          |  Should you have any questions regarding your right to use this Software,
    195          |  contact Texas Instruments Incorporated at www.TI.com.
    196          |
    197          +------------------------------------------------------------------------------
    198          */

   Maximum stack usage in bytes:

     Function                 ISTACK PSTACK XSTACK
     --------                 ------ ------ ------
     usbcrHookProcessIn           2      0      0
     usbcrHookProcessOut          0      0      0
     usbirqHookProcessEvents      2      0      0
       -> BootRfDown              4      0      0
     usbsrHookClearFeature        2      0      0
     usbsrHookModifyGetStatus     0      0      0
     usbsrHookProcessEvent        0      0      0
     usbsrHookSetDescriptor       2      0      0
     usbsrHookSetFeature          2      0      0
     usbsrHookSynchFrame          2      0      0
     usbvrHookProcessIn           2      0      0
     usbvrHookProcessOut          2      0      0


   Segment part sizes:

     Function/Label                   Bytes
     --------------                   -----
     Max_Lun                             4
     usbcrHookProcessOut                 3
     usbcrHookProcessIn                 48
     ??Subroutine1_0                     7
     usbvrHookProcessOut                 2
     ?Subroutine0                       10
     usbvrHookProcessIn                  2
     usbsrHookSetDescriptor              2
     usbsrHookSynchFrame                 2
     usbsrHookClearFeature               0
     usbsrHookSetFeature                 2
     usbsrHookModifyGetStatus            3
     usbsrHookProcessEvent               3
     usbirqHookProcessEvents             9
     ??usbcrHookProcessOut?relay         6
     ??usbcrHookProcessIn?relay          6
     ??usbvrHookProcessOut?relay         6
     ??usbvrHookProcessIn?relay          6
     ??usbsrHookSetDescriptor?relay      6
     ??usbsrHookSynchFrame?relay         6
     ??usbsrHookClearFeature?relay       6
     ??usbsrHookSetFeature?relay         6
     ??usbsrHookModifyGetStatus?relay    6
     ??usbsrHookProcessEvent?relay       6
     ??usbirqHookProcessEvents?relay     6

 
 93 bytes in segment BANKED_CODE
 66 bytes in segment BANK_RELAYS
  4 bytes in segment XDATA_Z
 
 159 bytes of CODE  memory
   4 bytes of XDATA memory

Errors: none
Warnings: none
