###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.4.40412/W32 for 8051         19/Jun/2016  18:16:08 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Users\freeman\Documents\work\SN\module\Componen #
#                          ts\hal\common\hal_int.c                            #
#    Command line       =  -f "C:\Users\freeman\Documents\work\SN\module\Proj #
#                          ects\zstack\Samples\SampleApp                      #
#                          com\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg #
#                          " (-DSECURE=0 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR    #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF0                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116 "-DCONST=const __code"    #
#                          -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE     #
#                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100            #
#                          -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440)   #
#                          C:\Users\freeman\Documents\work\SN\module\Componen #
#                          ts\hal\common\hal_int.c -D ZIGBEEPRO -D ZTOOL_P1   #
#                          -lC "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\CoordinatorEB-Pro\List\" -lA          #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\CoordinatorEB-Pro\List\"              #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\CoordinatorEB-Pro\Obj\" -e --debug    #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 16 -I "C:\Users\freeman\Document #
#                          s\work\SN\module\Projects\zstack\Samples\SampleApp #
#                           com\CC2530DB\" -I "C:\Users\freeman\Documents\wor #
#                          k\SN\module\Projects\zstack\Samples\SampleApp      #
#                          com\CC2530DB\..\SOURCE\" -I                        #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\ZMAIN\TI2530DB\" -I          #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MT\" -I     #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\INCLUDE #
#                          \" -I "C:\Users\freeman\Documents\work\SN\module\P #
#                          rojects\zstack\Samples\SampleApp                   #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\HAL\TARGET\ #
#                          CC2530EB\" -I "C:\Users\freeman\Documents\work\SN\ #
#                          module\Projects\zstack\Samples\SampleApp           #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\MCU\CC #
#                          SOC\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\OSAL\INCLUD #
#                          E\" -I "C:\Users\freeman\Documents\work\SN\module\ #
#                          Projects\zstack\Samples\SampleApp                  #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\AF\"  #
#                          -I "C:\Users\freeman\Documents\work\SN\module\Proj #
#                          ects\zstack\Samples\SampleApp                      #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\NWK\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SEC\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SAPI\ #
#                          " -I "C:\Users\freeman\Documents\work\SN\module\Pr #
#                          ojects\zstack\Samples\SampleApp                    #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\SYS\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\STACK\ZDO\" #
#                           -I "C:\Users\freeman\Documents\work\SN\module\Pro #
#                          jects\zstack\Samples\SampleApp                     #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\F8W\"  #
#                          -I "C:\Users\freeman\Documents\work\SN\module\Proj #
#                          ects\zstack\Samples\SampleApp                      #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\ZMAC\" -I   #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES\SA #
#                          DDR\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\SERVICES\SD #
#                          ATA\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\INCLUDE #
#                          \" -I "C:\Users\freeman\Documents\work\SN\module\P #
#                          rojects\zstack\Samples\SampleApp                   #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\HIGH_LE #
#                          VEL\" -I "C:\Users\freeman\Documents\work\SN\modul #
#                          e\Projects\zstack\Samples\SampleApp                #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEV #
#                          EL\srf04\" -I "C:\Users\freeman\Documents\work\SN\ #
#                          module\Projects\zstack\Samples\SampleApp           #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEV #
#                          EL\srf04\SINGLE_CHIP\" -I                          #
#                          "C:\Users\freeman\Documents\work\SN\module\Project #
#                          s\zstack\Samples\SampleApp                         #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\usb\library #
#                          \" -I "C:\Users\freeman\Documents\work\SN\module\P #
#                          rojects\zstack\Samples\SampleApp                   #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\usb\class_h #
#                          id\" -I "C:\Users\freeman\Documents\work\SN\module #
#                          \Projects\zstack\Samples\SampleApp                 #
#                          com\CC2530DB\..\..\..\..\..\COMPONENTS\hal\common\ #
#                          " -Ohz --require_prototypes                        #
#    List file          =  C:\Users\freeman\Documents\work\SN\module\Projects #
#                          \zstack\Samples\SampleApp                          #
#                          com\CC2530DB\CoordinatorEB-Pro\List\hal_int.lst    #
#    Object file        =  C:\Users\freeman\Documents\work\SN\module\Projects #
#                          \zstack\Samples\SampleApp                          #
#                          com\CC2530DB\CoordinatorEB-Pro\Obj\hal_int.r51     #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\freeman\Documents\work\SN\module\Components\hal\common\hal_int.c
      1          /***********************************************************************************
      2            Filename:     hal_int.c
      3          
      4            Description:  HAL interrupt control
      5          
      6          ***********************************************************************************/
      7          
      8          /***********************************************************************************
      9          * INCLUDES
     10          */
     11          #include "hal_types.h"
     12          #include "hal_defs.h"
     13          #include "hal_int.h"
     14          #include "hal_board.h"

   \                                 In  segment SFR_AN, at 0xa8
   \   union <unnamed> volatile __sfr _A_IEN0
   \                     _A_IEN0:
   \   000000                DS 1
     15          
     16          /***********************************************************************************
     17          * GLOBAL FUNCTIONS
     18          */
     19          
     20          /***********************************************************************************
     21          * @fn      halIntOn
     22          *
     23          * @brief   Enable global interrupts.
     24          *
     25          * @param   none
     26          *
     27          * @return  none
     28          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     29          void halIntOn(void)
   \                     halIntOn:
     30          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     31              HAL_INT_ON();
   \   000000   D2AF         SETB    0xa8.7
     32          }
   \   000002   02....       LJMP    ?BRET
   \   000005                REQUIRE _A_IEN0
     33          
     34          
     35          /***********************************************************************************
     36          * @fn      halIntOff
     37          *
     38          * @brief   Turns global interrupts off.
     39          *
     40          * @param   none
     41          *
     42          * @return  none
     43          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     44          void halIntOff(void)
   \                     halIntOff:
     45          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     46              HAL_INT_OFF();
   \   000000   C2AF         CLR     0xa8.7
     47          }
   \   000002   02....       LJMP    ?BRET
   \   000005                REQUIRE _A_IEN0
     48          
     49          
     50          /***********************************************************************************
     51          * @fn      halIntLock
     52          *
     53          * @brief   Turns global interrupts off and returns current interrupt state.
     54          *          Should always be used together with halIntUnlock().
     55          *
     56          * @param   none
     57          *
     58          * @return  uint16 - current interrupt state
     59          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     60          uint16 halIntLock(void)
   \                     halIntLock:
     61          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     62              istate_t key;
     63              HAL_INT_LOCK(key);
   \   000000   E5A8         MOV     A,0xa8
   \   000002   C2AF         CLR     0xa8.7
     64              return(key);
   \   000004   A2E7         MOV     C,0xE0 /* A   */.7
   \   000006   E4           CLR     A
   \   000007   33           RLC     A
   \   000008   FA           MOV     R2,A
   \   000009   7B00         MOV     R3,#0x0
   \   00000B   02....       LJMP    ?BRET
   \   00000E                REQUIRE _A_IEN0
     65          }
     66          
     67          
     68          /***********************************************************************************
     69          * @fn      halIntUnlock
     70          *
     71          * @brief   Set interrupt state back to the state it had before calling halIntLock().
     72          *          Should always be used together with halIntLock().
     73          *
     74          * @param   key
     75          *
     76          * @return  none
     77          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     78          void halIntUnlock(uint16 key)
   \                     halIntUnlock:
     79          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     80              HAL_INT_UNLOCK(key);
   \   000000   EA           MOV     A,R2
   \   000001   A2E0         MOV     C,0xE0 /* A   */.0
   \   000003   92AF         MOV     0xa8.7,C
     81          }
   \   000005   02....       LJMP    ?BRET
   \   000008                REQUIRE _A_IEN0

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??halIntOn?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    halIntOn

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??halIntOff?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    halIntOff

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??halIntLock?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    halIntLock

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??halIntUnlock?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    halIntUnlock
     82          
     83          
     84          /***********************************************************************************
     85            Copyright 2007 Texas Instruments Incorporated. All rights reserved.
     86          
     87            IMPORTANT: Your use of this Software is limited to those specific rights
     88            granted under the terms of a software license agreement between the user
     89            who downloaded the software, his/her employer (which must be your employer)
     90            and Texas Instruments Incorporated (the "License").  You may not use this
     91            Software unless you agree to abide by the terms of the License. The License
     92            limits your use, and you acknowledge, that the Software may not be modified,
     93            copied or distributed unless embedded on a Texas Instruments microcontroller
     94            or used solely and exclusively in conjunction with a Texas Instruments radio
     95            frequency transceiver, which is integrated into your product.  Other than for
     96            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     97            works of, modify, distribute, perform, display or sell this Software and/or
     98            its documentation for any purpose.
     99          
    100            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
    101            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
    102            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
    103            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
    104            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
    105            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
    106            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
    107            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
    108            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
    109            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
    110            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
    111          
    112            Should you have any questions regarding your right to use this Software,
    113            contact Texas Instruments Incorporated at www.TI.com.
    114          ***********************************************************************************/
    115          

   Maximum stack usage in bytes:

     Function     ISTACK PSTACK XSTACK
     --------     ------ ------ ------
     halIntLock       0      0      0
     halIntOff        0      0      0
     halIntOn         0      0      0
     halIntUnlock     0      0      0


   Segment part sizes:

     Function/Label       Bytes
     --------------       -----
     _A_IEN0                 1
     halIntOn                5
     halIntOff               5
     halIntLock             14
     halIntUnlock            8
     ??halIntOn?relay        6
     ??halIntOff?relay       6
     ??halIntLock?relay      6
     ??halIntUnlock?relay    6

 
 32 bytes in segment BANKED_CODE
 24 bytes in segment BANK_RELAYS
  1 byte  in segment SFR_AN
 
 56 bytes of CODE memory
  0 bytes of DATA memory (+ 1 byte shared)

Errors: none
Warnings: none
